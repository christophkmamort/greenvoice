{% extends "../base.html" %}
{% load static %}

<!-- SEO -->
{% block seo %}
  <title>Greenvoice - Nachhaltige & Fair Mode - Online kaufen</title>
  <meta name="description" content="Dein Onlineshop für nachhaltige & faire Mode. Aktuelle Mode Trends für {% now 'Y' %}. √100% Transparent √100% Vegan √BIO √Recycelt.">
  <meta name="keywords" content="Nachhaltige Mode, Faire Mode, Fair Fashion, Sustainable Fashion, Onlineshop, Green Lifestyle,">
{% endblock %}

<!-- Header and footer -->
{% block header %}{% include 'shop/templates/header.html' %}{% endblock %}
{% block footer %}{% include 'shop/templates/footer.html' %}{% endblock %}

<!-- Page content -->
{% block content %}
  <div class="up">
    <div class="up-container bg-white">
      <div class="container pt-5 min-height-80vh position-relative">

          <div class="seperator mt-5"></div>

          <div data-section="cartHeader">
            <h4>Mein Warenkorb <span class="text-primary">(<span class="text-primary cartItemsTotal">{{ order.get_cart_items }}</span>)</span></h4>
          </div>

          <div class="seperator mt-5"></div>


          <div data-section="cartContent" class="cartContent">

            {% if order.get_cart_items == 0 %}

              <div data-section="cartEmty">
                <p class="text-info">Du hast noch keine Artikel zu deinem Warenkorb hinzugefügt. {% include 'shop/templates/svg/bag.svg' with class='text-info ml-1' height='1em' style='margin-top: -0.2em;' only %}</p>
              </div>

            {% else %}

              <div class="container cartItemWrapper">

                {% for item in items %}
                  <div class="row mb-4 cartItem">
                    <a class="col-auto p-0 d-flex align-items-center justiy-content-start" href="{% url 'shop:product' item.product.pk %}">
                      <div class="position-relative" style="height: 105px; width: 70px;">
                        <div class="position-absolute" style="left: 0; top: 0; right: 0; bottom: 0;">
                          <img src="{{ item.product.imageUrl }}" class="img w-100 h-100 rounded" alt="">
                        </div>
                      </div>
                    </a>
                    <a class="col d-flex align-items-center justiy-content-start ml-2" href="{% url 'shop:product' item.product.pk %}">
                      <div>
                        <h6 class="m-0">{{ item.product.name }}</h6>
                        <p><span class="cartItemTotal">{{ item.quantity }}</span>x € <span class="cartItemPrice">{{ item.product.price|floatformat:2 }}</span></p>
                        <p class="m-0 mt-3">Farbe: <span style="color: #C0C0C0;">Silver</span></p>
                        <p class="m-0">Größe: M</p>
                      </div>
                    </a>
                    <div class="col-auto d-flex align-items-center justiy-content-end p-0">
                      <div>
                        <button class="btn w-100 text-strong updateCartTrigger" data-product="{{ item.product.pk }}" data-action="add">+</button>
                        <br>
                        <button class="btn updateCartTrigger" data-product="{{ item.product.pk }}" data-action="delete">{% include 'shop/templates/svg/trash.svg' with class='text-dark' height='1.2em' only %}</button>
                        <br>
                        <button class="btn w-100 text-strong updateCartTrigger" data-product="{{ item.product.pk }}" data-action="remove">-</button>
                      </div>
                    </div>
                  </div>
                {% endfor %}

              </div>

            {% endif %}

          </div>

          <div class="chartToCheckout">
            <hr class="bg-info mt-5">

            {% if order.get_cart_items > 0 %}

              <div class="seperator mt-4"></div>

              <div class="d-flex">
                <h5 class="w-50 m-0">Summe:</h5>
                <h5 class="text-right w-50 m-0">€ <span class="cartTotal">{{ order.get_cart_total|floatformat:2 }}</span></h5>
              </div>

              <p class="text-smaller text-info">*zzgl. Versandkosten</p>

              <div class="seperator mt-4"></div>

              <a href="{% url 'shop:checkout' %}"><button class="btn btn-primary btn-lg w-100">Zur Kassa</button></a>

            {% else %}

              <div class="seperator mt-5"></div>

              <a href="{% url 'shop:shop' %}"><button class="btn btn-primary btn-lg w-100">Weiter stöbern</button></a>

            {% endif %}

            {% if user.is_authenticated != 'true' %}
              <div class="seperator mt-2"></div>

              <a href="{% url 'shop:login' %}?next={{ request.path|urlencode }}">{% endif %}

                <button class="btn btn-outline-info btn-lg w-100">Zum Speichern anmelden</button>
            {% if user.is_authenticated %}</a>{% endif %}
          </div>

      </div>


      <div class="seperator mt-5"></div>


      <div data-section="indexDesignElementVerticalBar">
        {% include 'shop/templates/design-elements/vertical-bar.html' with class='bg-info' only %}
      </div>
    </div>
  </div>


        <!--</div>

        <div class="p-5"><div class="p-5"></div></div>
        <div class="position-absolute w-100 pt-3 pb-3" style="bottom: 0; left: 0;">
          <hr class="bg-white border-2 mt-5">
          <div class="pt-2 pb-3 d-flex">
            <h5 class="w-50">Summe:</h5><h5 class="text-right w-50">€ 79,98</h5>
          </div>
          <a href="{% url 'shop:checkout' %}"><button class="btn btn-light btn-lg w-100">Zur Kassa</button></a>
        </div>
      </div>
    </div>
  </div>-->
{% endblock %}
